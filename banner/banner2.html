<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/css/splide.min.css">
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
            crossorigin="anonymous">
        <title>Document</title>
    </head>
    <body>
        <div class="container-fluid">

            <div id="splide" class="splide">
                <div class="splide__track">
                    <ul class="splide__list" id="yeppa">
                        <!-- <li class="splide__slide"> <div class="card" style="width: 18rem;"> <img
                        src="https://pad.mymovies.it/filmclub/2003/05/063/locandinapg1.jpg"
                        class="card-img-top" alt="..."> <div class="card-body"> <h5
                        class="card-title">Titolo</h5> <p class="card-text">Sala 4</p> <a href="#"
                        class="btn btn-primary">Go somewhere</a> </div> </div> </li> <li
                        class="splide__slide"> <div class="card" style="width: 18rem;"> <img
                        src="https://pad.mymovies.it/filmclub/2003/05/063/locandinapg2.jpg"
                        class="card-img-top" alt="..."> <div class="card-body"> <h5
                        class="card-title">Titolo</h5> <p class="card-text">Sala 2</p> <a href="#"
                        class="btn btn-primary">Go somewhere</a> </div> </div> </li> <li
                        class="splide__slide"> <div class="card" style="width: 18rem;"> <img
                        src="https://pad.mymovies.it/filmclub/2007/01/036/locandina.jpg"
                        class="card-img-top" alt="..."> <div class="card-body"> <h5
                        class="card-title">Titolo</h5> <p class="card-text">Sala 2</p> <a href="#"
                        class="btn btn-primary">Go somewhere</a> </div> </div> </li> <li
                        class="splide__slide"> <div class="card" style="width: 18rem;"> <img
                        src="https://pad.mymovies.it/filmclub/2007/03/157/locandinapg4.jpg"
                        class="card-img-top" alt="..."> <div class="card-body"> <h5
                        class="card-title">Titolo</h5> <p class="card-text">Sala 2</p> <a href="#"
                        class="btn btn-primary">Go somewhere</a> </div> </div> </li> <li
                        class="splide__slide"> <div class="card" style="width: 18rem;"> <img
                        src="https://pad.mymovies.it/filmclub/2012/12/060/locandina.jpg"
                        class="card-img-top" alt="..."> <div class="card-body"> <h5
                        class="card-title">Titolo</h5> <p class="card-text">Sala 2</p> <a href="#"
                        class="btn btn-primary">Go somewhere</a> </div> </div> </li> <li
                        class="splide__slide"> <div class="card" style="width: 18rem;"> <img
                        src="https://pad.mymovies.it/filmclub/2001/11/012/locandinapg1.jpg"
                        class="card-img-top" alt="..."> <div class="card-body"> <h5
                        class="card-title">Titolo</h5> <p class="card-text">Sala 2</p> <a href="#"
                        class="btn btn-primary">Go somewhere</a> </div> </div> </li> <li
                        class="splide__slide"> <div class="card" style="width: 18rem;"> <img
                        src="https://pad.mymovies.it/filmclub/2007/06/076/locandina.jpg"
                        class="card-img-top" alt="..."> <div class="card-body"> <h5
                        class="card-title">Titolo</h5> <p class="card-text">Sala 2</p> <a href="#"
                        class="btn btn-primary">Go somewhere</a> </div> </div> </li> -->

                    </ul>
                </div>
            </div>
        </div>

    </body>
    <script type="text/javascript">
        var http = new XMLHttpRequest();
        var carousel = document.getElementById("yeppa");
        const url = "http://localhost:9011/api/films";
        http.open("GET", url, true);
        http.send();

        http.onreadystatechange = function () {

            if (this.readyState == 4 && this.status == 200) {
                console.log(this.readyState);
                console.log(this.status);

                var myObj = JSON.parse(this.responseText);
                console.log(myObj)
                for (var i = 0; i < myObj.length; i++) {

                    carousel.innerHTML += '<li class="splide__slide"><img src="'+myObj[i].locandina+'" width="50%" class="img-fluid" alt="..."> <h4 <a href="/films/dettaglio' +
                            '/' + myObj[i].id + '"</a>' + myObj[i].titolo + '</h4><h5>Sala: ' + myObj[i].sala +
                            '</h5>  </li>'
                }
            }
        }
        document.addEventListener('DOMContentLoaded', function () {
            new Splide('#splide', {
                type: 'rewind',
                perPage: 4,
                rewind: false,
                autoplay: true,
                speed: 2000,
                rewindSpeed: 4000,
                pagination: false,
                arrows: false
               
                //             padding: { 	left : '10rem', 	right: '0rem', }
            }).mount();

        });
    </script>
    <script
        src="https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/js/splide.min.js"></script>

</html>